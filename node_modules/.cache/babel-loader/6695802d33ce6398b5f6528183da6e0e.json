{"ast":null,"code":"var _jsxFileName = \"D:\\\\Parallel PJ\\\\website\\\\src\\\\components\\\\Buy.js\";\nimport React, { Component } from 'react';\n\nclass Buy extends Component {\n  constructor() {\n    super();\n    this.state = {\n      apiResponse: [],\n      ticket: 0\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentWillMount() {\n    fetch(\"https://parallel-api.appspot.com/concert/all\").then(res => res.json()).then(data => this.setState({\n      apiResponse: data\n    })).then(d => console.log(this.state.apiResponse));\n  }\n\n  handleSubmit(data) {\n    console.log(this.state.ticket);\n\n    if (this.state.ticket == 0) {\n      alert(\"Please select number of ticket first\");\n    } else {\n      fetch(\"https://parallel-api.appspot.com/concert/buy/\" + data, {\n        method: \"POST\",\n        body: JSON.stringify({\n          num: this.state.ticket\n        }),\n        headers: {\n          \"Content-type\": \"application/json\"\n        }\n      }).then(ti => alert(\"You already buy \" + this.state.ticket + \" \" + data + \" ticket\"));\n    }\n  }\n\n  handleChange(event) {\n    this.setState({\n      ticket: event.target.value\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container mt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      style: {\n        fontSize: \"16px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, this.state.apiResponse.map((data, index) => {\n      return React.createElement(\"div\", {\n        className: \"col mr-3\",\n        style: {\n          backgroundColor: \"gray\",\n          borderRadius: \"4px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"mt-2 mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: data.pic,\n        style: {\n          width: \"200px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"row text-center mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Title: \", index + data.title), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group mb-2 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"Ticket:\"), React.createElement(\"select\", {\n        style: {\n          border: \"1px solid #FFFFF\",\n          borderRadius: \"2px\",\n          width: \"7%\"\n        },\n        className: \"col-sm-6 mr-2\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"0\"), React.createElement(\"option\", {\n        value: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"1\"), React.createElement(\"option\", {\n        value: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"2\"), React.createElement(\"option\", {\n        value: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"3\"), React.createElement(\"option\", {\n        value: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"4\"), React.createElement(\"option\", {\n        value: \"5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"5\")), React.createElement(\"button\", {\n        className: \"btn btn-primary btn-sm\",\n        onClick: () => this.handleSubmit(data.title),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Buy\")))));\n    }))));\n  }\n\n}\n\nexport default Buy;","map":{"version":3,"sources":["D:/Parallel PJ/website/src/components/Buy.js"],"names":["React","Component","Buy","constructor","state","apiResponse","ticket","handleChange","bind","componentWillMount","fetch","then","res","json","data","setState","d","console","log","handleSubmit","alert","method","body","JSON","stringify","num","headers","ti","event","target","value","render","fontSize","map","index","backgroundColor","borderRadius","pic","width","title","border"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\n\r\nclass Buy extends Component{\r\n  constructor(){\r\n    super()\r\n    this.state ={\r\n      apiResponse : [],\r\n      ticket: 0\r\n    }\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n  componentWillMount(){\r\n    fetch(\"https://parallel-api.appspot.com/concert/all\") \r\n    .then(res => res.json())\r\n    .then(data => this.setState({apiResponse : data}))\r\n    .then(d => console.log(this.state.apiResponse))\r\n  }\r\n  handleSubmit(data) {\r\n    console.log(this.state.ticket)\r\n    if(this.state.ticket==0){\r\n        alert(\"Please select number of ticket first\")\r\n    }\r\n    else{\r\n        fetch(\"https://parallel-api.appspot.com/concert/buy/\"+data,{\r\n            method: \"POST\",\r\n            body: JSON.stringify({\r\n                num: this.state.ticket\r\n            }),\r\n            headers: {\"Content-type\": \"application/json\"}\r\n        })\r\n        .then(ti=> alert(\"You already buy \"+this.state.ticket+\" \"+ data+\" ticket\"))\r\n\r\n    }\r\n  }\r\n  handleChange(event) {\r\n    this.setState({\r\n        ticket: event.target.value\r\n    })\r\n   \r\n  }\r\n  render(){\r\n    \r\n    return (\r\n        <div className=\"App-header\">\r\n            <div className=\"container mt-5\">\r\n            <div className=\"row\"  style={{fontSize:\"16px\"}}>\r\n                    {\r\n                    this.state.apiResponse.map((data, index)=>{\r\n                        return(<div className=\"col mr-3\" style={{backgroundColor:\"gray\", borderRadius:\"4px\"}}>\r\n                                <div className =\"container\">\r\n                                    <div className=\"mt-2 mb-2\"><img src={data.pic} style={{width:\"200px\"}}></img></div>\r\n                                    <div className=\"row text-center mb-2\">Title: {index + data.title}</div>\r\n                                    <div>\r\n                                            <div className =\"form-group mb-2 text-center\">\r\n                                            <label>\r\n                                                Ticket: \r\n                                                {/* <input onChange={this.handleChange} type=\"number\" name=\"name\" style={{borderRadius:\"5px\"}} className=\"col-sm-4\"/> */}\r\n                                            </label>\r\n                                                <select style={{border: \"1px solid #FFFFF\", borderRadius:\"2px\", width:\"7%\"} } className=\"col-sm-6 mr-2\" onChange={this.handleChange}>\r\n                                                    <option value=\"0\">0</option>\r\n                                                    <option value=\"1\">1</option>\r\n                                                    <option value=\"2\">2</option>\r\n                                                    <option value=\"3\">3</option>\r\n                                                    <option value=\"4\">4</option>\r\n                                                    <option value=\"5\">5</option>\r\n                                                </select>\r\n                                                <button className=\"btn btn-primary btn-sm\" onClick={()=>this.handleSubmit(data.title)}>Buy</button>\r\n                                            </div>\r\n                                    </div>\r\n                                    \r\n                                </div>\r\n                               </div>)\r\n                    })\r\n                    }\r\n            </div>\r\n            </div>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Buy;\r\n"]},"metadata":{},"sourceType":"module"}